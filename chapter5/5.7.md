# 第六课：保存和取回数据
  
如果你认真学过之前的应用制作的话，那么制作一个Data服务对你来说相当简单了。这个跟之前的有一点点不同，因为之前的数据服务都是存储一套数据，但是这个应用中我们要存储很多数据：
* 营地坐标
* 营地细节
* 我的细节

但是理念还是差不多的，看起来可能会稍有不同。我们已经有了自己的表单并且我们的地图页也向咱们的Data服务发送数据了，所以我们要做的是保存它们即可，同时我们需要稍做变更来加载数据回应用。我们先从实现Data服务开始。  
**> 修改src/providers/data.ts 为如下：**
```typescript
import { Storage } from '@ionic/storage';
import { Injectable } from '@angular/core';

@Injectable()
export class Data {

    constructor(public storage: Storage){

    }

    setMyDetails(data: Object): void {
    let newData = JSON.stringify(data);
    this.storage.set('mydetails', newData);
    }

    setCampDetails(data: Object): void {
        let newData = JSON.stringify(data);
        this.storage.set('campdetails', newData);
    }

    setLocation(data: Object): void {
        let newData = JSON.stringify(data);
        this.storage.set('location', newData);
    }

    getMyDetails(): Promise<any> {
        return this.storage.get('mydetails');
    }

    getCampDetails(): Promise<any> {
        return this.storage.get('campdetails');
    }

    getLocation(): Promise<any> {
        return this.storage.get('location');
    }
}
```
**Storage**是Ionic的通用存储服务，他负责使用最佳存储方案的同时给我们提供了统一的API。  
当运行在设备上的时候，如果SQLite插件可用（早先安装过了），他会使用本机的SQLite数据库来存储数据。由于SQLite只会在应用运行在真机上才可用，*Storage*在SQLite不可用的情况下用*IndexedDB*，*WebSQL*，或者是浏览器的*localStorage*。